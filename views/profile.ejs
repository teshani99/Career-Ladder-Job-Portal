<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile - Job Seeker</title>
    <link rel="stylesheet" href="/profile.css">
</head>

<body>
    <div class="row mb-5">
        <div class="col-lg-12">
            <form class="p-4 p-md-5 border rounded" method="POST" action="/profile" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="fullName">FullName</label>
                    <input name="fullName" type="text" class="form-control" id="fullName" placeholder="fullName" value="<%= profileData ? profileData.fullName : '' %>">
                </div>
                <div class="col">
                    <label for="dob">Date of Birth</label>
                    <input type="date" id="dob" name="dob" required value="<%= profileData ? new Date(profileData.dob).toISOString().split('T')[0] : '' %>">
                </div>
        
                <div class="col">
                    <label for="nic">NIC (optional)</label>
                    <input type="text" id="nic" name="nic" placeholder="NIC" value="<%= profileData ? profileData.nic : '' %>">
                </div>
            
                <div class="col">
                    <label for="address">Address</label>
                    <input type="text" id="address" name="address" placeholder="Address" value="<%= profileData ? profileData.address : '' %>">
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <label for="gender">Gender</label>
                    <select id="gender" name="gender">
                        <option value="male" <%= profileData && profileData.gender === 'male' ? 'selected' : '' %>>Male</option>
                        <option value="female" <%= profileData && profileData.gender === 'female' ? 'selected' : '' %>>Female</option>
                    </select>
                </div>
            
                <div class="col">
                    <label for="civilStatus">Civil Status</label>
                    <select id="civilStatus" name="civilStatus">
                        <option value="single" <%= profileData && profileData.civilStatus === 'single' ? 'selected' : '' %>>Single</option>
                        <option value="married" <%= profileData && profileData.civilStatus === 'married' ? 'selected' : '' %>>Married</option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <label for="religion">Religion</label>
                    <input type="text" id="religion" name="religion" placeholder="Religion" value="<%= profileData ? profileData.religion : '' %>">
                </div>
                <div class="col">
                    <label for="mobileNo">Mobile No</label>
                    <input type="tel" id="mobileNo" name="mobileNo" placeholder="Mobile No" value="<%= profileData ? profileData.mobileNo : '' %>">
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <label for="occupation">Occupation</label>
                    <input type="text" id="occupation" name="occupation" placeholder="Occupation" value="<%= profileData ? profileData.occupation : '' %>">
                </div>

                <div class="form-group">
                    <label for="experience"> Working Experience</label>
                    <select name="experience" class="selectpicker border rounded" id="experience" data-style="btn-black" data-width="100%" data-live-search="true" title="Select Job Type">
                        <option value="1" <%= profileData && profileData.experience == 1 ? 'selected' : '' %>>1 year experience</option>
                        <option value="2" <%= profileData && profileData.experience == 2 ? 'selected' : '' %>>2 year experience</option>
                        <option value="3" <%= profileData && profileData.experience == 3 ? 'selected' : '' %>>3 year experience</option>
                        <option value="4" <%= profileData && profileData.experience == 4 ? 'selected' : '' %>>4 year experience</option>
                        <option value="5" <%= profileData && profileData.experience == 5 ? 'selected' : '' %>>5 year experience</option>
                        <option value="10" <%= profileData && profileData.experience == 10 ? 'selected' : '' %>>10 year experience</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="jobdescription">Self Description</label>
                <textarea name="jobdescription" id="jobdescription" class="form-control" rows="5" placeholder="Write Brief Description!"><%= profileData ? profileData.jobdescription : '' %></textarea>
            </div>

            <div class="form-group">
                <label for="profilePic">Attach your photograph:</label>
                <% if (profileData && profileData.profilePic) { %>
                    <div>
                        <img src="/upload/<%= profileData.profilePic %>" alt="profilePic" style="max-width: 100px; max-height: 100px;">
                    </div>
                <% } else { %>
                    <p>No Photo</p>
                <% } %>
                <input type="file" name="profilePic" id="profilePic" class="form-control" accept="image/*">
                <p>Please select an image file to upload.</p>
            </div>

            <div class="col-6">
                <button type="submit" class="btn btn-block btn-primary btn-md">Submit</button>
            </div>
        </form>
    </div>
</body>

</html>
